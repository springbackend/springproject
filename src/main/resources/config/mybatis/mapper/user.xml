<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="u">
	<!-- create -->
	<insert id="insert_user" parameterType="user">
		INSERT INTO USER1
		VALUES(
		USER_SEQ.nextVal,
		#{u_id},
		#{u_name},
		#{u_pwd},
		#{u_pnum},
		#{u_email},
		#{u_gender},
		#{u_regidate},
		#{u_regiip},
		#{u_addr},
		#{u_birth}
		)
	</insert>
	<!-- read -->
	<!-- read user all -->
	<select id="select_list" resultType="user">
		SELECT * FROM USER1
	</select>
	<!-- read user one -->
	<select id="ismember" parameterType="String" resultType="user">
		SELECT *
		FROM USER1
		WHERE u_email = #{email}
	</select>
	<!-- update -->
	<select id="CheckMyAccountBeforeChangeMyPwd" parameterType="String" resultType="java.lang.Integer">
		SELECT u_pwd FROM USER1 WHERE u_id = #{id}
	</select>
	<!-- update pwd -->
	<update id="changeMyPwd" parameterType="user">
		UPDATE USER1 SET u_pwd = #{u_pwd} WHERE u_id = #{u_id}
	</update>
	<!-- delete -->
	<delete id="deleteAccount" parameterType="String">
		delete
		FROM USER1
		WHERE
		u_id = #{id}
	</delete>
</mapper>










